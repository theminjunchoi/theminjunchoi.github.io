---
title:
date: 2025-02-11 09:44:21
updated: 2025-09-03 17:39:08
publish:
tags:
series:
---
# 인프라 및 서비스 구성 설명서

## 개요

제가 설계하고 구축한 Spring Boot 애플리케이션 배포 인프라는 개발과 운영 환경을 분리하여 안정성과 확장성을 보장하는 아키텍처입니다. 이 구성을 통해 개발 단계에서의 빠른 반복과 운영 환경에서의 높은 가용성을 동시에 달성할 수 있도록 설계했습니다.

## 전체 아키텍처 구성

### 1. 환경 분리 전략

**개발 환경 (Dev)**

- **컴퓨팅**: AWS EC2 인스턴스 (Amazon Linux 2023, ARM64)
- **데이터베이스**: Docker MySQL 8.0 컨테이너
- **배포 트리거**: dev 브랜치 push 시 자동 배포
- **특징**: 빠른 개발 사이클을 위한 컨테이너 기반 구성

**운영 환경 (Prod)**

- **컴퓨팅**: 동일한 EC2 인스턴스 (리소스 공유)
- **데이터베이스**: AWS RDS MySQL 8.0 (별도 인스턴스)
- **배포 트리거**: prod 브랜치 push 시 자동 배포
- **특징**: 데이터 영속성과 가용성을 위한 관리형 서비스 활용

### 2. CI/CD 파이프라인 설계

**GitHub Actions 기반 자동화**

- **Self-hosted Runner**: EC2 인스턴스에 직접 설치하여 배포 지연시간 최소화
- **단일 워크플로우**: 브랜치별 조건부 실행으로 관리 복잡성 감소
- **환경별 분기 처리**: 런타임에 브랜치 정보를 기반으로 환경 설정 자동 선택

### 3. 데이터베이스 전략

**개발 환경의 Docker MySQL**

- **장점**: 빠른 프로토타이핑과 스키마 변경 테스트 가능
- **데이터 보존**: Docker Volume 설정으로 컨테이너 재시작 시에도 데이터 유지
- **설정**: `ddl-auto: update`로 스키마 자동 업데이트

**운영 환경의 RDS**

- **장점**: 자동 백업, Multi-AZ 배포, 모니터링 기능 내장
- **보안**: 프라이빗 서브넷 배치, EC2 보안그룹을 통한 접근 제한
- **설정**: `ddl-auto: validate`로 스키마 무결성 검증

**네트워크 보안**

- RDS는 프라이빗 서브넷에 배치
- 보안그룹을 통해 EC2에서만 3306 포트 접근 허용
- 애플리케이션은 8080 포트로 외부 접근 제한적 허용

**민감정보 관리**

- GitHub Secrets를 통한 운영 환경 설정 관리
- 개발 환경은 하드코딩된 개발용 계정 사용
- JWT Secret 등 보안 키는 환경별 분리