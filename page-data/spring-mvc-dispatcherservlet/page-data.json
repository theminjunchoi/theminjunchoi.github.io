{"componentChunkName":"component---src-templates-post-jsx","path":"/spring-mvc-dispatcherservlet/","result":{"data":{"site":{"siteMetadata":{"title":"minjun.blog"}},"markdownRemark":{"id":"43821fcd-8636-5c6d-a114-2f00bf36be3f","excerpt":"DispatcherServlet 공식문서에 따르면, Spring MVC는 다른 많은 웹 프레임워크들과 마찬가지로 Front Controller Pattern에 기반을 두고 있다. 우선 여기서 말하는 Front Controller Pattern은 뭘까? 이는 어플리케이션에서 들어오는 모든 요청을 하나의 진입점으로 모아서 처리하는 설계 방식이다. 좀 더 자세…","html":"<h2>DispatcherServlet</h2>\n<p><a href=\"https://docs.spring.io/spring-framework/reference/web/webmvc/mvc-servlet.html\">공식문서</a>에 따르면, Spring MVC는 다른 많은 웹 프레임워크들과 마찬가지로 Front Controller Pattern에 기반을 두고 있다.</p>\n<p>우선 여기서 말하는 <strong>Front Controller Pattern은 뭘까?</strong> 이는 어플리케이션에서 들어오는 모든 요청을 하나의 진입점으로 모아서 처리하는 설계 방식이다. 좀 더 자세히 설명하면, 로그인은 LoginServlet에서, 회원가입은 SignupServlet에서 처리하는 게 아니라 공통된 모듈에서 처리해주는 설계방식이다.</p>\n<p>그럼 다시 <strong>Servlet은 뭘까?</strong> Servlet은 웹 요청을 받아 동적인 웹 페이지나 데이터를 만들어주는 역할을 하는 객체인데, 자바로 만든 서버측 컴포넌트 정도로 이해하고 넘어가려한다.</p>\n<p><strong>DispatcherServlet도 이 Servlet을 상속해서 만들어진 것으로, 여기서 모든 요청을 받아주고 있다.</strong> 이후 실제 처리는 여러 delegate component들이 나누어 담당하고 있다.</p>\n<p>delegate components</p>\n<ul>\n<li>Handler Mapping</li>\n<li>Handler Adapter</li>\n<li>View Resolver</li>\n<li>Exception Handler</li>\n<li>etc...</li>\n</ul>\n<h2>Spring MVC's Internal Request Handling Flow</h2>\n<ol>\n<li>DispatcherServlet이 클라이언트로부터 Request를 받는다.</li>\n<li>HandlerMapping을 통해 Request 정보에 대한 알맞은 Controller를 찾는다.</li>\n<li>Request를 Controller로 건내줄 수 있는 HandlerAdapter를 찾아서 건내준다.</li>\n<li>HandlerAdapter를 통해 Controller 메서드를 호출한다.</li>\n<li>반환값(Response)을 HandlerAdapter에게 건내준다.</li>\n<li>반환값에 따라 ResponseEntity로 감싸는 경우가 있고, 이 형식에 따라 다른 Converter가 동작한다.\n<ul>\n<li>반환값이 view 이름인 경우, ViewResolver를 통해 렌더링</li>\n<li>반환값이 데이터(json)인 경우, ResponseEntity로 감싸고 HttpMessageConverter가 작동\n<ul>\n<li>단순 문자열이면, StringHttpMessageConverter</li>\n<li>객체면, MappingJackson2HttpMessageConverter</li>\n</ul>\n</li>\n</ul>\n</li>\n</ol>\n<h2>Deep Dive to Workflow</h2>\n<p><figure class='gatsby-resp-image-figure' style='margin-bottom: 16px;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; '>\n      <a class='gatsby-resp-image-link' href='/static/4dce01cd7d76905860f476b2e7fc2378/23a6b/diagram.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 49.411764705882355%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAABRklEQVR42m1Ri26DMBDjN1YgCQHyvAQSwqPt9v+/NbeTWrRNOlm6uxjsc8W4fFXLOtS57fpxXvJxvTsffIzbfs151dat+040VWeykEPXjfw04aIflDbey0Er42iO1pPEyDnZqwqfrxteN6JhIqRp3Tdw0NatwKppxKXmH5eWiT7Mpez3tBTRDZhjWw2jfkiiSCE6CspaIFprqR810LlIFJWyo7IUs7H+pasajZnTAg+5rDGmQZsJto495aKcpSmmsmAPxYbSenyFmN7ktu0gDJqf4jla4AVVs67XYc5gznkTUrV8qFvZNPxNZkLCD2yIDtjzJ6IYA2hLC02bsQ6Xg0kucEJ5Ip9u+yjEI3Uqx3H7Oq6fcOgCbdtxu33GKZ2D/I/8kxBHEGR81sZZ5xEWpOHnv579T2YcCpHNWsq2rjsCaFrx99k3qAxXdvaq75kAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='diagram.png' title='' src='/static/4dce01cd7d76905860f476b2e7fc2378/ca1dc/diagram.png' srcset='/static/4dce01cd7d76905860f476b2e7fc2378/e7570/diagram.png 170w,\n/static/4dce01cd7d76905860f476b2e7fc2378/f46e7/diagram.png 340w,\n/static/4dce01cd7d76905860f476b2e7fc2378/ca1dc/diagram.png 680w,\n/static/4dce01cd7d76905860f476b2e7fc2378/02d09/diagram.png 1020w,\n/static/4dce01cd7d76905860f476b2e7fc2378/9d567/diagram.png 1360w,\n/static/4dce01cd7d76905860f476b2e7fc2378/23a6b/diagram.png 1766w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>diagram.png</figcaption>\n  </figure>\nDispatcherServlet은 위와 같은 계층 구조로 이루어져있다. 그래서 각 단계마다 실행되는 메서드의 위치가 다른데, 좀 더 자세히 살펴보자</p>\n<h3>1. DispatcherServlet이 클라이언트로부터 Request를 받는다.</h3>\n<p>외부에서 들어온 요청은 HttpServlet에서 구현된 service 메서드에서 처리된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">abstract</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">HttpServlet</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">GenericServlet</span> <span class=\"token punctuation\">{</span>\n\n\t<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">service</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ServletRequest</span> req<span class=\"token punctuation\">,</span> <span class=\"token class-name\">ServletResponse</span> res<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">ServletException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">IOException</span> <span class=\"token punctuation\">{</span>  \n\t    <span class=\"token class-name\">HttpServletRequest</span> request<span class=\"token punctuation\">;</span>  \n\t    <span class=\"token class-name\">HttpServletResponse</span> response<span class=\"token punctuation\">;</span>  \n\t    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>  \n\t        request <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpServletRequest</span><span class=\"token punctuation\">)</span>req<span class=\"token punctuation\">;</span>  \n\t        response <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpServletResponse</span><span class=\"token punctuation\">)</span>res<span class=\"token punctuation\">;</span>  \n\t    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">ClassCastException</span> var6<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n\t        <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ServletException</span><span class=\"token punctuation\">(</span>lStrings<span class=\"token punctuation\">.</span><span class=\"token function\">getString</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"http.non_http\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t    <span class=\"token punctuation\">}</span>  \n\t  \n\t    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">service</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">,</span> response<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>이 메서드에서는 외부에서 받은 ServletRequest, ServletResponse 객체를 각각 HttpServletRequest, HttpServletResponse 객체로 캐스팅해주고 다시 서비스를 호출해주는데, 이때 호출되는 service 메서드는 다음과 같다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">abstract</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">HttpServlet</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">GenericServlet</span> <span class=\"token punctuation\">{</span>\n\n\t<span class=\"token keyword\">protected</span> <span class=\"token keyword\">void</span> <span class=\"token function\">service</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpServletRequest</span> req<span class=\"token punctuation\">,</span> <span class=\"token class-name\">HttpServletResponse</span> resp<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">ServletException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">IOException</span> <span class=\"token punctuation\">{</span>  \n\t    <span class=\"token class-name\">String</span> method <span class=\"token operator\">=</span> req<span class=\"token punctuation\">.</span><span class=\"token function\">getMethod</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>method<span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"GET\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n\t        <span class=\"token keyword\">long</span> lastModified <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getLastModified</span><span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>lastModified <span class=\"token operator\">==</span> <span class=\"token operator\">-</span><span class=\"token number\">1L</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n\t            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">doGet</span><span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">,</span> resp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>  \n\t            <span class=\"token keyword\">long</span> ifModifiedSince<span class=\"token punctuation\">;</span>  \n\t            <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>  \n\t                ifModifiedSince <span class=\"token operator\">=</span> req<span class=\"token punctuation\">.</span><span class=\"token function\">getDateHeader</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"If-Modified-Since\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t            <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">IllegalArgumentException</span> var9<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n\t                ifModifiedSince <span class=\"token operator\">=</span> <span class=\"token operator\">-</span><span class=\"token number\">1L</span><span class=\"token punctuation\">;</span>  \n\t            <span class=\"token punctuation\">}</span>  \n\t  \n\t            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>ifModifiedSince <span class=\"token operator\">&lt;</span> lastModified <span class=\"token operator\">/</span> <span class=\"token number\">1000L</span> <span class=\"token operator\">*</span> <span class=\"token number\">1000L</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n\t                <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">maybeSetLastModified</span><span class=\"token punctuation\">(</span>resp<span class=\"token punctuation\">,</span> lastModified<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t                <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">doGet</span><span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">,</span> resp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t            <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>  \n\t                resp<span class=\"token punctuation\">.</span><span class=\"token function\">setStatus</span><span class=\"token punctuation\">(</span><span class=\"token number\">304</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t            <span class=\"token punctuation\">}</span>  \n\t        <span class=\"token punctuation\">}</span>  \n\t    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>method<span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"HEAD\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n\t        <span class=\"token keyword\">long</span> lastModified <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getLastModified</span><span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">maybeSetLastModified</span><span class=\"token punctuation\">(</span>resp<span class=\"token punctuation\">,</span> lastModified<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">doHead</span><span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">,</span> resp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>method<span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"POST\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n\t        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">doPost</span><span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">,</span> resp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>method<span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"PUT\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n\t        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">doPut</span><span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">,</span> resp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>method<span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"DELETE\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n\t        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">doDelete</span><span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">,</span> resp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>method<span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"OPTIONS\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n\t        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">doOptions</span><span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">,</span> resp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>method<span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"TRACE\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n\t        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">doTrace</span><span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">,</span> resp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>  \n\t        <span class=\"token class-name\">String</span> errMsg <span class=\"token operator\">=</span> lStrings<span class=\"token punctuation\">.</span><span class=\"token function\">getString</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"http.method_not_implemented\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t        <span class=\"token class-name\">Object</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> errArgs <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Object</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>  \n\t        errArgs<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> method<span class=\"token punctuation\">;</span>  \n\t        errMsg <span class=\"token operator\">=</span> <span class=\"token class-name\">MessageFormat</span><span class=\"token punctuation\">.</span><span class=\"token function\">format</span><span class=\"token punctuation\">(</span>errMsg<span class=\"token punctuation\">,</span> errArgs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t        resp<span class=\"token punctuation\">.</span><span class=\"token function\">sendError</span><span class=\"token punctuation\">(</span><span class=\"token number\">501</span><span class=\"token punctuation\">,</span> errMsg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t    <span class=\"token punctuation\">}</span>  \n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>들어오는 Request의 종류에 따라 알맞은 doX 메서드를 각각 호출해주고 있다. 이때 doX 메서드들은 자식 클래스인 FrameworkServlet에서 구현되어있는 것들이 호출된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">abstract</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">FrameworkServlet</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">HttpServletBean</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">ApplicationContextAware</span> <span class=\"token punctuation\">{</span>\n\n\t<span class=\"token annotation punctuation\">@Override</span>  \n\t<span class=\"token keyword\">protected</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">void</span> <span class=\"token function\">doGet</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpServletRequest</span> request<span class=\"token punctuation\">,</span> <span class=\"token class-name\">HttpServletResponse</span> response<span class=\"token punctuation\">)</span>  \n\t       <span class=\"token keyword\">throws</span> <span class=\"token class-name\">ServletException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">IOException</span> <span class=\"token punctuation\">{</span>  \n\t  \n\t    <span class=\"token function\">processRequest</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">,</span> response<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t<span class=\"token punctuation\">}</span>  \n\t  \n\t<span class=\"token annotation punctuation\">@Override</span>  \n\t<span class=\"token keyword\">protected</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">void</span> <span class=\"token function\">doPost</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpServletRequest</span> request<span class=\"token punctuation\">,</span> <span class=\"token class-name\">HttpServletResponse</span> response<span class=\"token punctuation\">)</span>  \n\t       <span class=\"token keyword\">throws</span> <span class=\"token class-name\">ServletException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">IOException</span> <span class=\"token punctuation\">{</span>  \n\t  \n\t    <span class=\"token function\">processRequest</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">,</span> response<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t<span class=\"token punctuation\">}</span>  \n\t  \n\t<span class=\"token annotation punctuation\">@Override</span>  \n\t<span class=\"token keyword\">protected</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">void</span> <span class=\"token function\">doPut</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpServletRequest</span> request<span class=\"token punctuation\">,</span> <span class=\"token class-name\">HttpServletResponse</span> response<span class=\"token punctuation\">)</span>  \n\t       <span class=\"token keyword\">throws</span> <span class=\"token class-name\">ServletException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">IOException</span> <span class=\"token punctuation\">{</span>  \n\t  \n\t    <span class=\"token function\">processRequest</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">,</span> response<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t<span class=\"token punctuation\">}</span>\n\t<span class=\"token comment\">// ... 다른 doX 메서드들</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>생각보다 각 doX 메서드에서 해주는 게 없었고 processRequest가 Request에 맞게 처리를 해주고 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">abstract</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">FrameworkServlet</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">HttpServletBean</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">ApplicationContextAware</span> <span class=\"token punctuation\">{</span>\n\n\t<span class=\"token keyword\">protected</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">void</span> <span class=\"token function\">processRequest</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpServletRequest</span> request<span class=\"token punctuation\">,</span> <span class=\"token class-name\">HttpServletResponse</span> response<span class=\"token punctuation\">)</span>  \n       <span class=\"token keyword\">throws</span> <span class=\"token class-name\">ServletException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">IOException</span> <span class=\"token punctuation\">{</span>  \n  \n    <span class=\"token comment\">// ...  </span>\n  \n\t    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>  \n\t       <span class=\"token function\">doService</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">,</span> response<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t    <span class=\"token punctuation\">}</span>  \n\t    <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">ServletException</span> <span class=\"token operator\">|</span> <span class=\"token class-name\">IOException</span> ex<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n\t       failureCause <span class=\"token operator\">=</span> ex<span class=\"token punctuation\">;</span>  \n\t       <span class=\"token keyword\">throw</span> ex<span class=\"token punctuation\">;</span>  \n\t    <span class=\"token punctuation\">}</span>  \n\t    <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Throwable</span> ex<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n\t       failureCause <span class=\"token operator\">=</span> ex<span class=\"token punctuation\">;</span>  \n\t       <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ServletException</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Request processing failed: \"</span> <span class=\"token operator\">+</span> ex<span class=\"token punctuation\">,</span> ex<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t    <span class=\"token punctuation\">}</span>  \n\t  \n\t    <span class=\"token comment\">// ...</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>processRequest는 내부에서 doService를 호출하고 있고, 이 메서드는 FrameworkServlet의 자식 클래스인 DispatcherServlet에서 구현되어있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">DispatcherServlet</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">FrameworkServlet</span> <span class=\"token punctuation\">{</span>\n    \n    <span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">protected</span> <span class=\"token keyword\">void</span> <span class=\"token function\">doService</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpServletRequest</span> request<span class=\"token punctuation\">,</span> <span class=\"token class-name\">HttpServletResponse</span> response<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Exception</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">logRequest</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">// ...</span>\n\n        <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token function\">doDispatch</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">,</span> response<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">finally</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token comment\">// ...</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">// ...</span>\n\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>또 다시 여기서 doDispatch를 호출해주고 있는데 좀 더 자세히 들여다보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">DispatcherServlet</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">FrameworkServlet</span> <span class=\"token punctuation\">{</span>\n    \n    <span class=\"token keyword\">protected</span> <span class=\"token keyword\">void</span> <span class=\"token function\">doDispatch</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpServletRequest</span> request<span class=\"token punctuation\">,</span> <span class=\"token class-name\">HttpServletResponse</span> response<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Exception</span> <span class=\"token punctuation\">{</span>  \n    <span class=\"token class-name\">HttpServletRequest</span> processedRequest <span class=\"token operator\">=</span> request<span class=\"token punctuation\">;</span>  \n    <span class=\"token class-name\">HandlerExecutionChain</span> mappedHandler <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>  \n    <span class=\"token keyword\">boolean</span> multipartRequestParsed <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>  \n  \n    <span class=\"token class-name\">WebAsyncManager</span> asyncManager <span class=\"token operator\">=</span> <span class=\"token class-name\">WebAsyncUtils</span><span class=\"token punctuation\">.</span><span class=\"token function\">getAsyncManager</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n  \n    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>  \n       <span class=\"token class-name\">ModelAndView</span> mv <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>  \n       <span class=\"token class-name\">Exception</span> dispatchException <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>  \n  \n       <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>  \n          processedRequest <span class=\"token operator\">=</span> <span class=\"token function\">checkMultipart</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n          multipartRequestParsed <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>processedRequest <span class=\"token operator\">!=</span> request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n  \n          <span class=\"token comment\">// Determine handler for the current request.  </span>\n          mappedHandler <span class=\"token operator\">=</span> <span class=\"token function\">getHandler</span><span class=\"token punctuation\">(</span>processedRequest<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n          <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>mappedHandler <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n             <span class=\"token function\">noHandlerFound</span><span class=\"token punctuation\">(</span>processedRequest<span class=\"token punctuation\">,</span> response<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n             <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>  \n          <span class=\"token punctuation\">}</span>  \n  \n          <span class=\"token comment\">// Determine handler adapter for the current request.  </span>\n          <span class=\"token class-name\">HandlerAdapter</span> ha <span class=\"token operator\">=</span> <span class=\"token function\">getHandlerAdapter</span><span class=\"token punctuation\">(</span>mappedHandler<span class=\"token punctuation\">.</span><span class=\"token function\">getHandler</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n  \n          <span class=\"token comment\">// Process last-modified header, if supported by the handler.  </span>\n          <span class=\"token class-name\">String</span> method <span class=\"token operator\">=</span> request<span class=\"token punctuation\">.</span><span class=\"token function\">getMethod</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n          <span class=\"token keyword\">boolean</span> isGet <span class=\"token operator\">=</span> <span class=\"token class-name\">HttpMethod</span><span class=\"token punctuation\">.</span><span class=\"token constant\">GET</span><span class=\"token punctuation\">.</span><span class=\"token function\">matches</span><span class=\"token punctuation\">(</span>method<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n          <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>isGet <span class=\"token operator\">||</span> <span class=\"token class-name\">HttpMethod</span><span class=\"token punctuation\">.</span><span class=\"token constant\">HEAD</span><span class=\"token punctuation\">.</span><span class=\"token function\">matches</span><span class=\"token punctuation\">(</span>method<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n             <span class=\"token keyword\">long</span> lastModified <span class=\"token operator\">=</span> ha<span class=\"token punctuation\">.</span><span class=\"token function\">getLastModified</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">,</span> mappedHandler<span class=\"token punctuation\">.</span><span class=\"token function\">getHandler</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n             <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">ServletWebRequest</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">,</span> response<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">checkNotModified</span><span class=\"token punctuation\">(</span>lastModified<span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> isGet<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n                <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>  \n             <span class=\"token punctuation\">}</span>  \n          <span class=\"token punctuation\">}</span>  \n  \n          <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>mappedHandler<span class=\"token punctuation\">.</span><span class=\"token function\">applyPreHandle</span><span class=\"token punctuation\">(</span>processedRequest<span class=\"token punctuation\">,</span> response<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n             <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>  \n          <span class=\"token punctuation\">}</span>  \n  \n          <span class=\"token comment\">// Actually invoke the handler.  </span>\n          mv <span class=\"token operator\">=</span> ha<span class=\"token punctuation\">.</span><span class=\"token function\">handle</span><span class=\"token punctuation\">(</span>processedRequest<span class=\"token punctuation\">,</span> response<span class=\"token punctuation\">,</span> mappedHandler<span class=\"token punctuation\">.</span><span class=\"token function\">getHandler</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n  \n          <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>asyncManager<span class=\"token punctuation\">.</span><span class=\"token function\">isConcurrentHandlingStarted</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n             <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>  \n          <span class=\"token punctuation\">}</span>  \n  \n          <span class=\"token function\">applyDefaultViewName</span><span class=\"token punctuation\">(</span>processedRequest<span class=\"token punctuation\">,</span> mv<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n          mappedHandler<span class=\"token punctuation\">.</span><span class=\"token function\">applyPostHandle</span><span class=\"token punctuation\">(</span>processedRequest<span class=\"token punctuation\">,</span> response<span class=\"token punctuation\">,</span> mv<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n       <span class=\"token punctuation\">}</span>  \n       <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Exception</span> ex<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n          dispatchException <span class=\"token operator\">=</span> ex<span class=\"token punctuation\">;</span>  \n       <span class=\"token punctuation\">}</span>  \n       <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Throwable</span> err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n          <span class=\"token comment\">// As of 4.3, we're processing Errors thrown from handler methods as well,  </span>\n          <span class=\"token comment\">// making them available for @ExceptionHandler methods and other scenarios.          dispatchException = new ServletException(\"Handler dispatch failed: \" + err, err);  </span>\n       <span class=\"token punctuation\">}</span>  \n       <span class=\"token function\">processDispatchResult</span><span class=\"token punctuation\">(</span>processedRequest<span class=\"token punctuation\">,</span> response<span class=\"token punctuation\">,</span> mappedHandler<span class=\"token punctuation\">,</span> mv<span class=\"token punctuation\">,</span> dispatchException<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n    <span class=\"token punctuation\">}</span>  \n    <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Exception</span> ex<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n       <span class=\"token function\">triggerAfterCompletion</span><span class=\"token punctuation\">(</span>processedRequest<span class=\"token punctuation\">,</span> response<span class=\"token punctuation\">,</span> mappedHandler<span class=\"token punctuation\">,</span> ex<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n    <span class=\"token punctuation\">}</span>  \n    <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Throwable</span> err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n       <span class=\"token function\">triggerAfterCompletion</span><span class=\"token punctuation\">(</span>processedRequest<span class=\"token punctuation\">,</span> response<span class=\"token punctuation\">,</span> mappedHandler<span class=\"token punctuation\">,</span>  \n             <span class=\"token keyword\">new</span> <span class=\"token class-name\">ServletException</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Handler processing failed: \"</span> <span class=\"token operator\">+</span> err<span class=\"token punctuation\">,</span> err<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n    <span class=\"token punctuation\">}</span>  \n    <span class=\"token keyword\">finally</span> <span class=\"token punctuation\">{</span>  \n       <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>asyncManager<span class=\"token punctuation\">.</span><span class=\"token function\">isConcurrentHandlingStarted</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n          <span class=\"token comment\">// Instead of postHandle and afterCompletion  </span>\n          <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>mappedHandler <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n             mappedHandler<span class=\"token punctuation\">.</span><span class=\"token function\">applyAfterConcurrentHandlingStarted</span><span class=\"token punctuation\">(</span>processedRequest<span class=\"token punctuation\">,</span> response<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n          <span class=\"token punctuation\">}</span>  \n          asyncManager<span class=\"token punctuation\">.</span><span class=\"token function\">setMultipartRequestParsed</span><span class=\"token punctuation\">(</span>multipartRequestParsed<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n       <span class=\"token punctuation\">}</span>  \n       <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>  \n          <span class=\"token comment\">// Clean up any resources used by a multipart request.  </span>\n          <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>multipartRequestParsed <span class=\"token operator\">||</span> asyncManager<span class=\"token punctuation\">.</span><span class=\"token function\">isMultipartRequestParsed</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n             <span class=\"token function\">cleanupMultipart</span><span class=\"token punctuation\">(</span>processedRequest<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n          <span class=\"token punctuation\">}</span>  \n       <span class=\"token punctuation\">}</span>  \n    <span class=\"token punctuation\">}</span>  \n<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>doDispatch 메서드를 살펴보면 많은 것들을 해주고 있다.</p>\n<p>우선 HandlerMapping을 해주고, 이를 처리할 HandlerAdapter를 조회해주고 있다. 이후에 컨트롤러를 찾아 메서드들을 수행한다.</p>\n<h3>2. HandlerMapping을 통해 Request 정보에 대한 알맞은 Controller를 찾는다.</h3>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">protected</span> <span class=\"token keyword\">void</span> <span class=\"token function\">doDispatch</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpServletRequest</span> request<span class=\"token punctuation\">,</span> <span class=\"token class-name\">HttpServletResponse</span> response<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Exception</span> <span class=\"token punctuation\">{</span>  \n\t<span class=\"token comment\">// Determine handler for the current request.  </span>\n\tmappedHandler <span class=\"token operator\">=</span> <span class=\"token function\">getHandler</span><span class=\"token punctuation\">(</span>processedRequest<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>mappedHandler <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n\t\t <span class=\"token function\">noHandlerFound</span><span class=\"token punctuation\">(</span>processedRequest<span class=\"token punctuation\">,</span> response<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t\t <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>  \n\t<span class=\"token punctuation\">}</span> \n<span class=\"token punctuation\">}</span>\n\n<span class=\"token annotation punctuation\">@Nullable</span>  \n<span class=\"token keyword\">protected</span> <span class=\"token class-name\">HandlerExecutionChain</span> <span class=\"token function\">getHandler</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpServletRequest</span> request<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Exception</span> <span class=\"token punctuation\">{</span>  \n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handlerMappings <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n       <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">HandlerMapping</span> mapping <span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handlerMappings<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n          <span class=\"token class-name\">HandlerExecutionChain</span> handler <span class=\"token operator\">=</span> mapping<span class=\"token punctuation\">.</span><span class=\"token function\">getHandler</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n          <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>handler <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n             <span class=\"token keyword\">return</span> handler<span class=\"token punctuation\">;</span>  \n          <span class=\"token punctuation\">}</span>  \n       <span class=\"token punctuation\">}</span>  \n    <span class=\"token punctuation\">}</span>  \n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>  \n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>doDispatch 메서드 코드 중에서  일부만 가져왔는데, 위 코드와 같이 요청에 맞는 HandlerExecutionChain(mappedHandler)을 찾아주고 있다. HandlerExecutionChain은 실제 HTTP 요청을 처리하는 handler(컨트롤러 메서드)와 handler 전후에 인증, 로깅 등을 처리할 수 있는 인터셉터로 이루어진다. 어떻게 HandlerExecutionChain이 찾아지는 지에 대해서는 넘어가고 추후에 다른 글에서 설명할 예정이다.</p>\n<h3>3. Request를 Controller로 건내줄 수 있는 HandlerAdapter를 찾아서 건내준다.</h3>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">protected</span> <span class=\"token keyword\">void</span> <span class=\"token function\">doDispatch</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpServletRequest</span> request<span class=\"token punctuation\">,</span> <span class=\"token class-name\">HttpServletResponse</span> response<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Exception</span> <span class=\"token punctuation\">{</span>  \n\t<span class=\"token comment\">// Determine handler adapter for the current request.  </span>\n\t<span class=\"token class-name\">HandlerAdapter</span> ha <span class=\"token operator\">=</span> <span class=\"token function\">getHandlerAdapter</span><span class=\"token punctuation\">(</span>mappedHandler<span class=\"token punctuation\">.</span><span class=\"token function\">getHandler</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">protected</span> <span class=\"token class-name\">HandlerAdapter</span> <span class=\"token function\">getHandlerAdapter</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Object</span> handler<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">ServletException</span> <span class=\"token punctuation\">{</span>  \n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handlerAdapters <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n       <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">HandlerAdapter</span> adapter <span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handlerAdapters<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n          <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>adapter<span class=\"token punctuation\">.</span><span class=\"token function\">supports</span><span class=\"token punctuation\">(</span>handler<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n             <span class=\"token keyword\">return</span> adapter<span class=\"token punctuation\">;</span>  \n          <span class=\"token punctuation\">}</span>  \n       <span class=\"token punctuation\">}</span>  \n    <span class=\"token punctuation\">}</span>  \n    <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ServletException</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"No adapter for handler [\"</span> <span class=\"token operator\">+</span> handler <span class=\"token operator\">+</span>  \n          <span class=\"token string\">\"]: The DispatcherServlet configuration needs to include a HandlerAdapter that supports this handler\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>HandlerExecutionChain에는 요청에 맞는 handler가 저장되어있고, 이를 통해 다음과 같이 HandlerAdapter를 조회하고 있다.</p>\n<h3>4. HandlerAdapter를 통해 Controller 메서드를 호출한다.</h3>\n<p>HandlerAdapter는 HandlerExecutionChain을 처리하는 과정에서, 내부적으로 인터셉터를 관리하여 공통적인 전/후 처리 작업을 수행한다. 예를 들어, 컨트롤러 메서드 호출 전에는 적합한 파라미터를 생성하여 전달하는 작업이 필요하고, 호출 후에는 메시지 컨버터를 사용하여 ResponseEntity의 본문을 찾아 JSON 직렬화와 같은 작업을 처리하는 과정이 필요하다.</p>\n<p>HandlerAdapter가 요청하는 코드를 살펴보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">protected</span> <span class=\"token keyword\">void</span> <span class=\"token function\">doDispatch</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpServletRequest</span> request<span class=\"token punctuation\">,</span> <span class=\"token class-name\">HttpServletResponse</span> response<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Exception</span> <span class=\"token punctuation\">{</span>  \n\t<span class=\"token comment\">// Actually invoke the handler.  </span>\n\tmv <span class=\"token operator\">=</span> ha<span class=\"token punctuation\">.</span><span class=\"token function\">handle</span><span class=\"token punctuation\">(</span>processedRequest<span class=\"token punctuation\">,</span> response<span class=\"token punctuation\">,</span> mappedHandler<span class=\"token punctuation\">.</span><span class=\"token function\">getHandler</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> \n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>이때 요청의 종류에 따라 HandlerAdapter의 종류가 달라지고, 예시로 @Controller로 annotate된 컨트롤러를 처리하는 RequestMappingHandlerAdapter의 코드는 다음과 같다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">abstract</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AbstractHandlerMethodAdapter</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">WebContentGenerator</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">HandlerAdapter</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Ordered</span> <span class=\"token punctuation\">{</span>\n\n\t<span class=\"token annotation punctuation\">@Override</span>  \n\t<span class=\"token annotation punctuation\">@Nullable</span>  \n\t<span class=\"token keyword\">public</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">ModelAndView</span> <span class=\"token function\">handle</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpServletRequest</span> request<span class=\"token punctuation\">,</span> <span class=\"token class-name\">HttpServletResponse</span> response<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Object</span> handler<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Exception</span> <span class=\"token punctuation\">{</span>  \n\t    <span class=\"token keyword\">return</span> <span class=\"token function\">handleInternal</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">,</span> response<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">HandlerMethod</span><span class=\"token punctuation\">)</span> handler<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">RequestMappingHandlerAdapter</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">AbstractHandlerMethodAdapter</span> <span class=\"token punctuation\">{</span>\n\n\t<span class=\"token annotation punctuation\">@Override</span>  \n\t<span class=\"token annotation punctuation\">@Nullable</span>  \n\t<span class=\"token keyword\">protected</span> <span class=\"token class-name\">ModelAndView</span> <span class=\"token function\">handleInternal</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpServletRequest</span> request<span class=\"token punctuation\">,</span>  \n\t       <span class=\"token class-name\">HttpServletResponse</span> response<span class=\"token punctuation\">,</span> <span class=\"token class-name\">HandlerMethod</span> handlerMethod<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Exception</span> <span class=\"token punctuation\">{</span>  \n\t  \n\t    <span class=\"token class-name\">ModelAndView</span> mav<span class=\"token punctuation\">;</span>  \n\t    <span class=\"token function\">checkRequest</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t  \n\t    <span class=\"token comment\">// Execute invokeHandlerMethod in synchronized block if required.  </span>\n\t    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>synchronizeOnSession<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n\t       <span class=\"token class-name\">HttpSession</span> session <span class=\"token operator\">=</span> request<span class=\"token punctuation\">.</span><span class=\"token function\">getSession</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t       <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>session <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n\t          <span class=\"token class-name\">Object</span> mutex <span class=\"token operator\">=</span> <span class=\"token class-name\">WebUtils</span><span class=\"token punctuation\">.</span><span class=\"token function\">getSessionMutex</span><span class=\"token punctuation\">(</span>session<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t          <span class=\"token keyword\">synchronized</span> <span class=\"token punctuation\">(</span>mutex<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n\t             mav <span class=\"token operator\">=</span> <span class=\"token function\">invokeHandlerMethod</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">,</span> response<span class=\"token punctuation\">,</span> handlerMethod<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t          <span class=\"token punctuation\">}</span>  \n\t       <span class=\"token punctuation\">}</span>  \n\t       <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>  \n\t          <span class=\"token comment\">// No HttpSession available -> no mutex necessary  </span>\n\t          mav <span class=\"token operator\">=</span> <span class=\"token function\">invokeHandlerMethod</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">,</span> response<span class=\"token punctuation\">,</span> handlerMethod<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t       <span class=\"token punctuation\">}</span>  \n\t    <span class=\"token punctuation\">}</span>  \n\t    <span class=\"token comment\">// ...</span>\n\t    <span class=\"token keyword\">return</span> mav<span class=\"token punctuation\">;</span>  \n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>여기서도 중요한건 invokeHandlerMethod를 호출해주고 있다는 것인데, 이를 통해 컨트롤러로 요청을 위임하고있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">RequestMappingHandlerAdapter</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">AbstractHandlerMethodAdapter</span> <span class=\"token punctuation\">{</span>\n\n\t<span class=\"token annotation punctuation\">@Nullable</span>  \n\t<span class=\"token keyword\">protected</span> <span class=\"token class-name\">ModelAndView</span> <span class=\"token function\">invokeHandlerMethod</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpServletRequest</span> request<span class=\"token punctuation\">,</span>  \n\t       <span class=\"token class-name\">HttpServletResponse</span> response<span class=\"token punctuation\">,</span> <span class=\"token class-name\">HandlerMethod</span> handlerMethod<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Exception</span> <span class=\"token punctuation\">{</span>  \n\t  \n\t    <span class=\"token comment\">// ...</span>\n\t  \n\t    <span class=\"token class-name\">ServletWebRequest</span> webRequest <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>asyncWebRequest <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">ServletWebRequest</span> <span class=\"token operator\">?</span>  \n\t          <span class=\"token punctuation\">(</span><span class=\"token class-name\">ServletWebRequest</span><span class=\"token punctuation\">)</span> asyncWebRequest <span class=\"token operator\">:</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ServletWebRequest</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">,</span> response<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t  \n\t    <span class=\"token class-name\">WebDataBinderFactory</span> binderFactory <span class=\"token operator\">=</span> <span class=\"token function\">getDataBinderFactory</span><span class=\"token punctuation\">(</span>handlerMethod<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t    <span class=\"token class-name\">ModelFactory</span> modelFactory <span class=\"token operator\">=</span> <span class=\"token function\">getModelFactory</span><span class=\"token punctuation\">(</span>handlerMethod<span class=\"token punctuation\">,</span> binderFactory<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t  \n\t    <span class=\"token class-name\">ServletInvocableHandlerMethod</span> invocableMethod <span class=\"token operator\">=</span> <span class=\"token function\">createInvocableHandlerMethod</span><span class=\"token punctuation\">(</span>handlerMethod<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>argumentResolvers <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n\t       invocableMethod<span class=\"token punctuation\">.</span><span class=\"token function\">setHandlerMethodArgumentResolvers</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>argumentResolvers<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t    <span class=\"token punctuation\">}</span>  \n\t    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>returnValueHandlers <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n\t       invocableMethod<span class=\"token punctuation\">.</span><span class=\"token function\">setHandlerMethodReturnValueHandlers</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>returnValueHandlers<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t    <span class=\"token punctuation\">}</span>  \n\t    \n\t    <span class=\"token comment\">// ...\t  </span>\n\t    \n\t    invocableMethod<span class=\"token punctuation\">.</span><span class=\"token function\">invokeAndHandle</span><span class=\"token punctuation\">(</span>webRequest<span class=\"token punctuation\">,</span> mavContainer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\n\t\t<span class=\"token comment\">// ...</span>\n\t  \n\t    <span class=\"token keyword\">return</span> <span class=\"token function\">getModelAndView</span><span class=\"token punctuation\">(</span>mavContainer<span class=\"token punctuation\">,</span> modelFactory<span class=\"token punctuation\">,</span> webRequest<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>HandlerExecutionChain에는 인터셉터를 통해 전후처리가 진행된다고 했었는데, 이 코드에서는 컨트롤러의 파라미터를 위해 ArgumentResolver가, 반환값 처리를 위해 ReturnValueHandler가 등장한다.</p>\n<p>다시 말하면 ArgumentResolver를 통해 컨트롤러의 메서드 인자값을 받고, ReturnValueHandler를 통해 컨트롤러 메서드의 반환값을 얻는 것이다.</p>\n<p>세팅이 끝나면 invokeAndHandle이 호출되고, 또 그 내부에서 invokeForRequest가 실행된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ServletInvocableHandlerMethod</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">InvocableHandlerMethod</span> <span class=\"token punctuation\">{</span>\n\t\n\t\t<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">invokeAndHandle</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ServletWebRequest</span> webRequest<span class=\"token punctuation\">,</span> <span class=\"token class-name\">ModelAndViewContainer</span> mavContainer<span class=\"token punctuation\">,</span>  \n\t       <span class=\"token class-name\">Object</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> providedArgs<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Exception</span> <span class=\"token punctuation\">{</span>  \n\t  \n\t    <span class=\"token class-name\">Object</span> returnValue <span class=\"token operator\">=</span> <span class=\"token function\">invokeForRequest</span><span class=\"token punctuation\">(</span>webRequest<span class=\"token punctuation\">,</span> mavContainer<span class=\"token punctuation\">,</span> providedArgs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t    \n\t    <span class=\"token comment\">// ...</span>\n\t    \n\t    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>  \n\t       <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>returnValueHandlers<span class=\"token punctuation\">.</span><span class=\"token function\">handleReturnValue</span><span class=\"token punctuation\">(</span>  \n\t             returnValue<span class=\"token punctuation\">,</span> <span class=\"token function\">getReturnValueType</span><span class=\"token punctuation\">(</span>returnValue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> mavContainer<span class=\"token punctuation\">,</span> webRequest<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t    <span class=\"token punctuation\">}</span>  \n\t    <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Exception</span> ex<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n\t       <span class=\"token comment\">// ...</span>\n\t       <span class=\"token keyword\">throw</span> ex<span class=\"token punctuation\">;</span>  \n\t    <span class=\"token punctuation\">}</span>  \n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">InvocableHandlerMethod</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">HandlerMethod</span> <span class=\"token punctuation\">{</span>\n\t\n\t<span class=\"token annotation punctuation\">@Nullable</span>  \n\t<span class=\"token keyword\">public</span> <span class=\"token class-name\">Object</span> <span class=\"token function\">invokeForRequest</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">NativeWebRequest</span> request<span class=\"token punctuation\">,</span> <span class=\"token annotation punctuation\">@Nullable</span> <span class=\"token class-name\">ModelAndViewContainer</span> mavContainer<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Object</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> providedArgs<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Exception</span> <span class=\"token punctuation\">{</span>  \n\t    <span class=\"token class-name\">Object</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getMethodArgumentValues</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">,</span> mavContainer<span class=\"token punctuation\">,</span> providedArgs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t    <span class=\"token comment\">// ...</span>\n\t\t<span class=\"token class-name\">Object</span> returnValue <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">doInvoke</span><span class=\"token punctuation\">(</span>args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t    <span class=\"token keyword\">return</span> returnValue<span class=\"token punctuation\">;</span>  \n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>여기서는 인자로 받은 값을 받아오는게 중요하다. 우리가 사용하는 어노테이션들을 getMethodArgumentValues에서 처리가 되고 doInvoke에서 만들어진 값으로 컨트롤러의 메서드를 호출한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">InvocableHandlerMethod</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">HandlerMethod</span> <span class=\"token punctuation\">{</span>\n\t\n\t<span class=\"token annotation punctuation\">@Nullable</span>  \n\t<span class=\"token keyword\">protected</span> <span class=\"token class-name\">Object</span> <span class=\"token function\">doInvoke</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Object</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> args<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Exception</span> <span class=\"token punctuation\">{</span>  \n\t    <span class=\"token class-name\">Method</span> method <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getBridgedMethod</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t  \n\t    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>  \n\t        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">KotlinDetector</span><span class=\"token punctuation\">.</span><span class=\"token function\">isKotlinReflectPresent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n\t            <span class=\"token comment\">// ...</span>\n\t        <span class=\"token punctuation\">}</span>  \n\t  \n\t        <span class=\"token keyword\">return</span> method<span class=\"token punctuation\">.</span><span class=\"token function\">invoke</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getBean</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">IllegalArgumentException</span> var8<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n\t        <span class=\"token comment\">// ...</span>\n\t    <span class=\"token punctuation\">}</span> \n\t    <span class=\"token keyword\">return</span> method<span class=\"token punctuation\">.</span><span class=\"token function\">invoke</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getBean</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>자바의 리플렉션으로 컨트롤러의 메소드 객체를 가져온다. 그리고 method.invoke(this.getBean(), args)로 실제 컨트롤러에게 위임을 해주고 있다.</p>\n<h3>5. 반환값(Response)을 HandlerAdapter에게 건내준다.</h3>\n<p>그리고 다시 ServletInvocableHandlerMethod의 invokeAndHandle 메서드로 다시 돌아온다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ServletInvocableHandlerMethod</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">InvocableHandlerMethod</span> <span class=\"token punctuation\">{</span>\n\t\n\t\t<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">invokeAndHandle</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ServletWebRequest</span> webRequest<span class=\"token punctuation\">,</span> <span class=\"token class-name\">ModelAndViewContainer</span> mavContainer<span class=\"token punctuation\">,</span>  \n\t       <span class=\"token class-name\">Object</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> providedArgs<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Exception</span> <span class=\"token punctuation\">{</span>  \n\t  \n\t    <span class=\"token class-name\">Object</span> returnValue <span class=\"token operator\">=</span> <span class=\"token function\">invokeForRequest</span><span class=\"token punctuation\">(</span>webRequest<span class=\"token punctuation\">,</span> mavContainer<span class=\"token punctuation\">,</span> providedArgs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t    \n\t    <span class=\"token comment\">// ...</span>\n\t    \n\t    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>  \n\t       <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>returnValueHandlers<span class=\"token punctuation\">.</span><span class=\"token function\">handleReturnValue</span><span class=\"token punctuation\">(</span>  \n\t             returnValue<span class=\"token punctuation\">,</span> <span class=\"token function\">getReturnValueType</span><span class=\"token punctuation\">(</span>returnValue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> mavContainer<span class=\"token punctuation\">,</span> webRequest<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t    <span class=\"token punctuation\">}</span>  \n\t    <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Exception</span> ex<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n\t       <span class=\"token comment\">// ...</span>\n\t       <span class=\"token keyword\">throw</span> ex<span class=\"token punctuation\">;</span>  \n\t    <span class=\"token punctuation\">}</span>  \n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>컨트톨러의 로직이 끝나고 이때 반환값은 returnValue에 담긴다. 이후에는 ReturnValueHandler에서 후 처리를 거친다.</p>\n<h3>6. 반환값에 따라 ResponseEntity로 감싸는 경우가 있고, 이 형식에 따라 다른 Converter가 동작한다.</h3>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">HandlerMethodReturnValueHandlerComposite</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">HandlerMethodReturnValueHandler</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">handleReturnValue</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@Nullable</span> <span class=\"token class-name\">Object</span> returnValue<span class=\"token punctuation\">,</span> <span class=\"token class-name\">MethodParameter</span> returnType<span class=\"token punctuation\">,</span> <span class=\"token class-name\">ModelAndViewContainer</span> mavContainer<span class=\"token punctuation\">,</span> <span class=\"token class-name\">NativeWebRequest</span> webRequest<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Exception</span> <span class=\"token punctuation\">{</span>  \n\t    <span class=\"token class-name\">HandlerMethodReturnValueHandler</span> handler <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">selectHandler</span><span class=\"token punctuation\">(</span>returnValue<span class=\"token punctuation\">,</span> returnType<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>handler <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n\t        <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">IllegalArgumentException</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Unknown return value type: \"</span> <span class=\"token operator\">+</span> returnType<span class=\"token punctuation\">.</span><span class=\"token function\">getParameterType</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>  \n\t        handler<span class=\"token punctuation\">.</span><span class=\"token function\">handleReturnValue</span><span class=\"token punctuation\">(</span>returnValue<span class=\"token punctuation\">,</span> returnType<span class=\"token punctuation\">,</span> mavContainer<span class=\"token punctuation\">,</span> webRequest<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t    <span class=\"token punctuation\">}</span>  \n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>어떤 값을 반환하느냐에 따라 HandlerMethosReturnValueHandler 구현체가 정해지고, 예를 들어 ResponseEntity 객체가 반환되는 경우 HttpEntityMethodProcessor가 사용된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">HttpEntityMethodProcessor</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">AbstractMessageConverterMethodProcessor</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token annotation punctuation\">@Override</span>  \n\t<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">handleReturnValue</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@Nullable</span> <span class=\"token class-name\">Object</span> returnValue<span class=\"token punctuation\">,</span> <span class=\"token class-name\">MethodParameter</span> returnType<span class=\"token punctuation\">,</span>  \n\t       <span class=\"token class-name\">ModelAndViewContainer</span> mavContainer<span class=\"token punctuation\">,</span> <span class=\"token class-name\">NativeWebRequest</span> webRequest<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Exception</span> <span class=\"token punctuation\">{</span>  \n\t  \n\t    mavContainer<span class=\"token punctuation\">.</span><span class=\"token function\">setRequestHandled</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>returnValue <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n\t       <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>  \n\t    <span class=\"token punctuation\">}</span>  \n\t  \n\t    <span class=\"token class-name\">ServletServerHttpRequest</span> inputMessage <span class=\"token operator\">=</span> <span class=\"token function\">createInputMessage</span><span class=\"token punctuation\">(</span>webRequest<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t    <span class=\"token class-name\">ServletServerHttpResponse</span> outputMessage <span class=\"token operator\">=</span> <span class=\"token function\">createOutputMessage</span><span class=\"token punctuation\">(</span>webRequest<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t  \n\t    <span class=\"token class-name\">HttpEntity</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> httpEntity<span class=\"token punctuation\">;</span>  \n\t    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>returnValue <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">ErrorResponse</span> response<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n\t       httpEntity <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ResponseEntity</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span><span class=\"token function\">getBody</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> response<span class=\"token punctuation\">.</span><span class=\"token function\">getHeaders</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> response<span class=\"token punctuation\">.</span><span class=\"token function\">getStatusCode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t    <span class=\"token punctuation\">}</span>  \n\t    <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>returnValue <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">ProblemDetail</span> detail<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n\t       httpEntity <span class=\"token operator\">=</span> <span class=\"token class-name\">ResponseEntity</span><span class=\"token punctuation\">.</span><span class=\"token function\">of</span><span class=\"token punctuation\">(</span>detail<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t    <span class=\"token punctuation\">}</span>  \n\t    <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>  \n\t       <span class=\"token class-name\">Assert</span><span class=\"token punctuation\">.</span><span class=\"token function\">isInstanceOf</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpEntity</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span> returnValue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t       httpEntity <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpEntity</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">)</span> returnValue<span class=\"token punctuation\">;</span>  \n\t    <span class=\"token punctuation\">}</span>  \n\t  \n\t    <span class=\"token comment\">// ... </span>\n\t  \n\t    <span class=\"token comment\">// Try even with null body. ResponseBodyAdvice could get involved.  </span>\n\t    <span class=\"token function\">writeWithMessageConverters</span><span class=\"token punctuation\">(</span>httpEntity<span class=\"token punctuation\">.</span><span class=\"token function\">getBody</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> returnType<span class=\"token punctuation\">,</span> inputMessage<span class=\"token punctuation\">,</span> outputMessage<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t  \n\t    <span class=\"token comment\">// Ensure headers are flushed even if no body was written.  </span>\n\t    outputMessage<span class=\"token punctuation\">.</span><span class=\"token function\">flush</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>이 메서드는 응답가능한 타입인지 확인해주고 적절한 Converter와 응답을 처리할 수 있게 해준다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">abstract</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AbstractMessageConverterMethodProcessor</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">AbstractMessageConverterMethodArgumentResolver</span>  \n       <span class=\"token keyword\">implements</span> <span class=\"token class-name\">HandlerMethodReturnValueHandler</span> <span class=\"token punctuation\">{</span>\n\n\t<span class=\"token keyword\">protected</span> <span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">></span></span> <span class=\"token keyword\">void</span> <span class=\"token function\">writeWithMessageConverters</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@Nullable</span> <span class=\"token class-name\">T</span> value<span class=\"token punctuation\">,</span> <span class=\"token class-name\">MethodParameter</span> returnType<span class=\"token punctuation\">,</span>  \n       <span class=\"token class-name\">ServletServerHttpRequest</span> inputMessage<span class=\"token punctuation\">,</span> <span class=\"token class-name\">ServletServerHttpResponse</span> outputMessage<span class=\"token punctuation\">)</span>  \n       <span class=\"token keyword\">throws</span> <span class=\"token class-name\">IOException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">HttpMediaTypeNotAcceptableException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">HttpMessageNotWritableException</span> <span class=\"token punctuation\">{</span>  \n  \n\t    <span class=\"token comment\">// ...</span>\n\t  \n\t    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">isResourceType</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">,</span> returnType<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n\t       outputMessage<span class=\"token punctuation\">.</span><span class=\"token function\">getHeaders</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpHeaders</span><span class=\"token punctuation\">.</span><span class=\"token constant\">ACCEPT_RANGES</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"bytes\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t       <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>value <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">&amp;&amp;</span> inputMessage<span class=\"token punctuation\">.</span><span class=\"token function\">getHeaders</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getFirst</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpHeaders</span><span class=\"token punctuation\">.</span><span class=\"token constant\">RANGE</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">&amp;&amp;</span>  \n\t             outputMessage<span class=\"token punctuation\">.</span><span class=\"token function\">getServletResponse</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getStatus</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token number\">200</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n\t          <span class=\"token class-name\">Resource</span> resource <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Resource</span><span class=\"token punctuation\">)</span> value<span class=\"token punctuation\">;</span>  \n\t          <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>  \n\t             <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">HttpRange</span><span class=\"token punctuation\">></span></span> httpRanges <span class=\"token operator\">=</span> inputMessage<span class=\"token punctuation\">.</span><span class=\"token function\">getHeaders</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getRange</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t             outputMessage<span class=\"token punctuation\">.</span><span class=\"token function\">getServletResponse</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">setStatus</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpStatus</span><span class=\"token punctuation\">.</span><span class=\"token constant\">PARTIAL_CONTENT</span><span class=\"token punctuation\">.</span><span class=\"token function\">value</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t             body <span class=\"token operator\">=</span> <span class=\"token class-name\">HttpRange</span><span class=\"token punctuation\">.</span><span class=\"token function\">toResourceRegions</span><span class=\"token punctuation\">(</span>httpRanges<span class=\"token punctuation\">,</span> resource<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t             valueType <span class=\"token operator\">=</span> body<span class=\"token punctuation\">.</span><span class=\"token function\">getClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t             targetType <span class=\"token operator\">=</span> <span class=\"token constant\">RESOURCE_REGION_LIST_TYPE</span><span class=\"token punctuation\">;</span>  \n\t          <span class=\"token punctuation\">}</span>  \n\t          <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">IllegalArgumentException</span> ex<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n\t             outputMessage<span class=\"token punctuation\">.</span><span class=\"token function\">getHeaders</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpHeaders</span><span class=\"token punctuation\">.</span><span class=\"token constant\">CONTENT_RANGE</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"bytes */\"</span> <span class=\"token operator\">+</span> resource<span class=\"token punctuation\">.</span><span class=\"token function\">contentLength</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t             outputMessage<span class=\"token punctuation\">.</span><span class=\"token function\">getServletResponse</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">setStatus</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpStatus</span><span class=\"token punctuation\">.</span><span class=\"token constant\">REQUESTED_RANGE_NOT_SATISFIABLE</span><span class=\"token punctuation\">.</span><span class=\"token function\">value</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t          <span class=\"token punctuation\">}</span>  \n\t       <span class=\"token punctuation\">}</span>  \n\t    <span class=\"token punctuation\">}</span>\n\t<span class=\"token punctuation\">}</span>\n\t\n\t<span class=\"token comment\">// ...</span>\n\n\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>selectedMediaType <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n\t\tselectedMediaType <span class=\"token operator\">=</span> selectedMediaType<span class=\"token punctuation\">.</span><span class=\"token function\">removeQualityValue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t  \n\t    <span class=\"token class-name\">ResolvableType</span> targetResolvableType <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>  \n\t    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpMessageConverter</span> converter <span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>messageConverters<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n\t       <span class=\"token class-name\">ConverterType</span> converterTypeToUse <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>  \n\t       <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>converter <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">GenericHttpMessageConverter</span> genericConverter<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n\t          <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>genericConverter<span class=\"token punctuation\">.</span><span class=\"token function\">canWrite</span><span class=\"token punctuation\">(</span>targetType<span class=\"token punctuation\">,</span> valueType<span class=\"token punctuation\">,</span> selectedMediaType<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n\t             converterTypeToUse <span class=\"token operator\">=</span> <span class=\"token class-name\">ConverterType</span><span class=\"token punctuation\">.</span><span class=\"token constant\">GENERIC</span><span class=\"token punctuation\">;</span>  \n\t          <span class=\"token punctuation\">}</span>  \n\t       <span class=\"token punctuation\">}</span>  \n\t       <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>converter <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">SmartHttpMessageConverter</span> smartConverter<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n\t          targetResolvableType <span class=\"token operator\">=</span> <span class=\"token function\">getNestedTypeIfNeeded</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ResolvableType</span><span class=\"token punctuation\">.</span><span class=\"token function\">forMethodParameter</span><span class=\"token punctuation\">(</span>returnType<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t          <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>smartConverter<span class=\"token punctuation\">.</span><span class=\"token function\">canWrite</span><span class=\"token punctuation\">(</span>targetResolvableType<span class=\"token punctuation\">,</span> valueType<span class=\"token punctuation\">,</span> selectedMediaType<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n\t             converterTypeToUse <span class=\"token operator\">=</span> <span class=\"token class-name\">ConverterType</span><span class=\"token punctuation\">.</span><span class=\"token constant\">SMART</span><span class=\"token punctuation\">;</span>  \n\t          <span class=\"token punctuation\">}</span>  \n\t       <span class=\"token punctuation\">}</span>  \n\t       <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>converter<span class=\"token punctuation\">.</span><span class=\"token function\">canWrite</span><span class=\"token punctuation\">(</span>valueType<span class=\"token punctuation\">,</span> selectedMediaType<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>  \n\t          converterTypeToUse <span class=\"token operator\">=</span> <span class=\"token class-name\">ConverterType</span><span class=\"token punctuation\">.</span><span class=\"token constant\">BASE</span><span class=\"token punctuation\">;</span>  \n\t       <span class=\"token punctuation\">}</span>  \n\t       <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>converterTypeToUse <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n\t          body <span class=\"token operator\">=</span> <span class=\"token function\">getAdvice</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">beforeBodyWrite</span><span class=\"token punctuation\">(</span>body<span class=\"token punctuation\">,</span> returnType<span class=\"token punctuation\">,</span> selectedMediaType<span class=\"token punctuation\">,</span>  \n\t                <span class=\"token punctuation\">(</span><span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">HttpMessageConverter</span><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">)</span> converter<span class=\"token punctuation\">.</span><span class=\"token function\">getClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> inputMessage<span class=\"token punctuation\">,</span> outputMessage<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t          <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>body <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n\t             <span class=\"token class-name\">Object</span> theBody <span class=\"token operator\">=</span> body<span class=\"token punctuation\">;</span>  \n\t             <span class=\"token class-name\">LogFormatUtils</span><span class=\"token punctuation\">.</span><span class=\"token function\">traceDebug</span><span class=\"token punctuation\">(</span>logger<span class=\"token punctuation\">,</span> traceOn <span class=\"token operator\">-></span>  \n\t                   <span class=\"token string\">\"Writing [\"</span> <span class=\"token operator\">+</span> <span class=\"token class-name\">LogFormatUtils</span><span class=\"token punctuation\">.</span><span class=\"token function\">formatValue</span><span class=\"token punctuation\">(</span>theBody<span class=\"token punctuation\">,</span> <span class=\"token operator\">!</span>traceOn<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"]\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t             <span class=\"token function\">addContentDispositionHeader</span><span class=\"token punctuation\">(</span>inputMessage<span class=\"token punctuation\">,</span> outputMessage<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t             <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>converterTypeToUse<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n\t                <span class=\"token keyword\">case</span> <span class=\"token constant\">BASE</span> <span class=\"token operator\">-></span> converter<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span>body<span class=\"token punctuation\">,</span> selectedMediaType<span class=\"token punctuation\">,</span> outputMessage<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t                <span class=\"token keyword\">case</span> <span class=\"token constant\">GENERIC</span> <span class=\"token operator\">-></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">GenericHttpMessageConverter</span><span class=\"token punctuation\">)</span> converter<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span>body<span class=\"token punctuation\">,</span> targetType<span class=\"token punctuation\">,</span> selectedMediaType<span class=\"token punctuation\">,</span> outputMessage<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t                <span class=\"token keyword\">case</span> <span class=\"token constant\">SMART</span> <span class=\"token operator\">-></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">SmartHttpMessageConverter</span><span class=\"token punctuation\">)</span> converter<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span>body<span class=\"token punctuation\">,</span> targetResolvableType<span class=\"token punctuation\">,</span> selectedMediaType<span class=\"token punctuation\">,</span> outputMessage<span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t             <span class=\"token punctuation\">}</span>  \n\t          <span class=\"token punctuation\">}</span>  \n\t          <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>  \n\t             <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>logger<span class=\"token punctuation\">.</span><span class=\"token function\">isDebugEnabled</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n\t                logger<span class=\"token punctuation\">.</span><span class=\"token function\">debug</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Nothing to write: null body\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t             <span class=\"token punctuation\">}</span>  \n\t          <span class=\"token punctuation\">}</span>  \n\t          <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>  \n\t       <span class=\"token punctuation\">}</span>  \n\t    <span class=\"token punctuation\">}</span>  \n\t<span class=\"token punctuation\">}</span>\n\t\n\t<span class=\"token comment\">// ...</span>\n\t\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2>Summary</h2>\n<p>Spring MVC의 <code class=\"language-text\">DispatcherServlet</code> 처리 흐름을 목록으로 정리한 내용은 다음과 같습니다:</p>\n<ol>\n<li><strong>DispatcherServlet</strong>:\n<ul>\n<li>클라이언트 요청을 중앙에서 처리하는 역할</li>\n<li><code class=\"language-text\">HandlerMapping</code>, <code class=\"language-text\">HandlerAdapter</code>, <code class=\"language-text\">ReturnValueHandler</code> 등 delegate components를 사용하여 요청을 처리</li>\n</ul>\n</li>\n<li><strong>HandlerExecutionChain</strong>:\n<ul>\n<li>실제 핸들러(컨트롤러 메서드)와 이를 전후로 처리할 인터셉터들을 관리</li>\n<li>요청에 맞는 핸들러와 인터셉터를 찾아 전후 처리 작업 수행</li>\n</ul>\n</li>\n<li><strong>HandlerMapping</strong>:\n<ul>\n<li>요청에 맞는 컨트롤러를 찾아 반환</li>\n</ul>\n</li>\n<li><strong>HandlerAdapter</strong>:\n<ul>\n<li>컨트롤러 메서드를 호출하기 위한 어댑터 역할</li>\n<li>적합한 <code class=\"language-text\">ArgumentResolver</code>로 파라미터를 처리하고, <code class=\"language-text\">ReturnValueHandler</code>로 반환값을 처리</li>\n</ul>\n</li>\n<li><strong>ArgumentResolver</strong>:\n<ul>\n<li>컨트롤러 메서드의 파라미터 값을 생성하여 전달</li>\n</ul>\n</li>\n<li><strong>ReturnValueHandler</strong>:\n<ul>\n<li>컨트롤러 메서드의 반환값을 처리</li>\n<li>반환값에 따라 적합한 메시지 컨버터를 사용하여 직렬화 처리</li>\n</ul>\n</li>\n<li><strong>메시지 컨버터</strong>:\n<ul>\n<li>반환값을 직렬화하여 클라이언트에게 전달</li>\n<li>예: <code class=\"language-text\">StringHttpMessageConverter</code>, <code class=\"language-text\">MappingJackson2HttpMessageConverter</code> 등</li>\n</ul>\n</li>\n<li><strong>최종 처리</strong>:\n<ul>\n<li>반환값이 <code class=\"language-text\">ResponseEntity</code>라면, 적합한 <code class=\"language-text\">HttpMessageConverter</code>로 직렬화하여 응답 처리</li>\n</ul>\n</li>\n</ol>","frontmatter":{"title":"Understanding DispatcherServlet in Spring MVC","date":"2025년 04월 15일 09:04","updated":"2025년 04월 17일 11:04","tags":["spring"],"series":null},"fields":{"slug":"/spring-mvc-dispatcherservlet/","readingTime":{"minutes":17.46}}},"seriesList":{"edges":[{"node":{"id":"d3ec48ed-9d11-50ee-9b04-eafe9716e54f","fields":{"slug":"/nuxt-katex/"},"frontmatter":{"title":"Nuxt content에 Mathtype 사용하기"}}},{"node":{"id":"bfc974be-489f-5e60-936c-a4b7c25346a4","fields":{"slug":"/ZeroPage_지금그때_2022/"},"frontmatter":{"title":"2022 ZeroPage 지금그때"}}},{"node":{"id":"f8f7470f-000c-592f-9791-14400e103d5a","fields":{"slug":"/readme/"},"frontmatter":{"title":"README"}}},{"node":{"id":"0df526dc-c987-5222-8b4d-2047a9ad339f","fields":{"slug":"/why-obsidian/"},"frontmatter":{"title":"기존 블로그 대신 Obsidian을 택한 이유"}}},{"node":{"id":"7cb33a77-2599-5c14-bac0-3e29f2c9db8c","fields":{"slug":"/0-1. CA Intro/"},"frontmatter":{"title":"Computer Architecture Intro"}}},{"node":{"id":"6157f41a-d065-58ac-981a-873c63d5df39","fields":{"slug":"/0-2. CA Overview/"},"frontmatter":{"title":"CA Overview"}}},{"node":{"id":"f3396416-b746-5b19-8c4f-1a7ea8d0ddeb","fields":{"slug":"/1-1. Defining Performance/"},"frontmatter":{"title":"Defining Performance"}}},{"node":{"id":"5977ca74-78d5-58bc-9dd5-608507cd9d3c","fields":{"slug":"/1-2. Measuring Performance/"},"frontmatter":{"title":"Measuring Performance"}}},{"node":{"id":"58014b71-fc4c-59ba-9d37-8d92f8e69fd7","fields":{"slug":"/2-1. Designing principles 1~3 of MIPS ISA/"},"frontmatter":{"title":"Design principles 1~3 of MIPS ISA"}}},{"node":{"id":"5ac33a92-bd8e-5601-841c-bc09c6231861","fields":{"slug":"/2-2. Design principles 4 of MIPS ISA/"},"frontmatter":{"title":"Design principles 4 of MIPS ISA"}}},{"node":{"id":"ec03f0c5-5b8a-5938-a432-9e5e58b5a129","fields":{"slug":"/2-3. Representing Instructions in computer/"},"frontmatter":{"title":"Representing Instructions in computer"}}},{"node":{"id":"cd250cce-b172-5f38-951c-c2991d87a2ae","fields":{"slug":"/2-4. Supporting procedures in computer HW/"},"frontmatter":{"title":"Supporting procedures in computer HW"}}},{"node":{"id":"db871fc4-1bcb-551b-9ec6-e0502ea088e7","fields":{"slug":"/2-5. MIPS memory allocation & addressing/"},"frontmatter":{"title":"MIPS memory allocation & addressing"}}},{"node":{"id":"5828a22e-8af5-5b75-a19a-978b3eb412fe","fields":{"slug":"/3-1. Addition and Subtraction/"},"frontmatter":{"title":"Addition and Subtraction"}}},{"node":{"id":"a798e9ac-b43f-5faf-b715-63a7b05c3cfb","fields":{"slug":"/3-2. Multiplication/"},"frontmatter":{"title":"Multiplication"}}},{"node":{"id":"97b6a40a-f110-5ace-bacf-ca7b7592626b","fields":{"slug":"/3-3. Division/"},"frontmatter":{"title":"Division"}}},{"node":{"id":"9289f33d-d519-51fc-b997-2386f7e24c37","fields":{"slug":"/4-1. Processor Overview/"},"frontmatter":{"title":"Processor Overview"}}},{"node":{"id":"73765852-eabb-5f37-8695-5965ce72fe8a","fields":{"slug":"/4-2. Controlling a datapath/"},"frontmatter":{"title":"Controlling a datapath"}}},{"node":{"id":"1bf87b2e-2e74-5713-8a9b-e7098936f2c6","fields":{"slug":"/4-3. A single-cycle datapath/"},"frontmatter":{"title":"A single-cycle datapath"}}},{"node":{"id":"f192765f-c08d-5aac-9ad1-ea2198c91aaa","fields":{"slug":"/4-4. Pipelining overview/"},"frontmatter":{"title":"Pipelining overview"}}},{"node":{"id":"0bd1001f-2274-58b0-93bf-95250c946a53","fields":{"slug":"/4-5. Handling hazards/"},"frontmatter":{"title":"Handling hazards"}}},{"node":{"id":"bb556933-534b-53bb-8e0c-56226b4f4de9","fields":{"slug":"/4-6. Exceptions/"},"frontmatter":{"title":"Exceptions"}}},{"node":{"id":"90f5d85e-26d3-530b-ae55-a1c6baedb2a0","fields":{"slug":"/5-1. Cache overview/"},"frontmatter":{"title":"Cache overview"}}},{"node":{"id":"98db8787-c027-5459-8e47-617df9e79d42","fields":{"slug":"/5-2. Improving cache performance/"},"frontmatter":{"title":"Improving cache performance"}}},{"node":{"id":"db68c95f-0dab-5c57-a6c4-db6da4771df6","fields":{"slug":"/5-3. Virtual memory Part 1/"},"frontmatter":{"title":"Virtual memory Part 1"}}},{"node":{"id":"48c9d70b-b167-526a-b18a-1be9531b9e15","fields":{"slug":"/5-4. Virtual memory Part 2/"},"frontmatter":{"title":"Virtual memory Part 2"}}},{"node":{"id":"034a587d-35a5-5aaa-aae6-c801321793d4","fields":{"slug":"/interesting topic among sigchi 2024/"},"frontmatter":{"title":"sigchi 2024 관심 주제"}}},{"node":{"id":"1f41f381-3bd0-5019-b899-4cb0056cf4b6","fields":{"slug":"/Respiratory Sound Database 유효성 분석/"},"frontmatter":{"title":"Respiratory Sound Database 유효성 분석"}}},{"node":{"id":"d7c5b9d8-54ac-5e02-ada5-469eb2f101a4","fields":{"slug":"/우아한테크코스_7기_BE_프리코스_1주차_회고/"},"frontmatter":{"title":"우아한테크코스 7기 BE 프리코스 1주차 회고"}}},{"node":{"id":"a384ae1e-9c60-5810-92d9-35b67c43c223","fields":{"slug":"/우아한테크코스_7기_BE_프리코스_2주차_회고/"},"frontmatter":{"title":"우아한테크코스 7기 BE 프리코스 2주차 회고"}}},{"node":{"id":"1ff86204-2cda-5e56-9f79-96aa1a026662","fields":{"slug":"/우아한테크코스_7기_BE_프리코스_3주차_회고/"},"frontmatter":{"title":"우아한테크코스 7기 BE 프리코스 3주차 회고"}}},{"node":{"id":"baeeb5ec-ca8b-5695-ad8b-1b7face6c34d","fields":{"slug":"/우아한테크코스_7기_BE_프리코스_4주차_회고/"},"frontmatter":{"title":"우아한테크코스 7기 BE 프리코스 4주차 회고"}}},{"node":{"id":"90360acd-fd14-5043-b5c7-cb55e5b73296","fields":{"slug":"/mobile spirometry 관련 자료/"},"frontmatter":{"title":"mobile spirometry 관련 논문"}}},{"node":{"id":"668cea89-8010-524a-b9b7-1907ea54afed","fields":{"slug":"/스마트기기 내장 마이크기반 폐질환 진단기기 개발/"},"frontmatter":{"title":"논문 요약 - 스마트기기 내장 마이크기반 폐질환 진단기기 개발"}}},{"node":{"id":"416c4352-24cc-5107-97f2-3dc9e640201f","fields":{"slug":"/spirosmart/"},"frontmatter":{"title":"논문 요약 - SpiroSmart: Using a Microphone to Measure\rLung Function on a Mobile Phone"}}},{"node":{"id":"88624341-dccd-5d63-8a12-04fe501e7267","fields":{"slug":"/20241122_미팅내용정리/"},"frontmatter":{"title":"11/22 폐음연구 관련 미팅 내용 정리"}}},{"node":{"id":"67e41951-2729-5f5d-ac10-c47e4e865fbd","fields":{"slug":"/ZeroPage_지금그때_2024/"},"frontmatter":{"title":"2024 ZeroPage 지금그때"}}},{"node":{"id":"627aab8a-548f-5bdf-83a5-175656d0a29c","fields":{"slug":"/폐기능검사_지침_요약/"},"frontmatter":{"title":"폐음연구 - 폐기능검사 지침 요약"}}},{"node":{"id":"a1b393dc-31f5-52c0-a596-b4402519d118","fields":{"slug":"/20241220_분당서울대병원_참관/"},"frontmatter":{"title":"12/20 분당서울대병원 폐기능 검사실 참관"}}},{"node":{"id":"e168c0e2-13f0-521b-9008-b73e790b7d2d","fields":{"slug":"/우테코 git/"},"frontmatter":{"title":"우아한테크코스 GitHub"}}},{"node":{"id":"5d0cd7c6-7b48-52ee-b62b-323224d4a6e7","fields":{"slug":"/우아한테크코스 레벨1 고민거리와 자료들/"},"frontmatter":{"title":"우아한테크코스 레벨1 고민거리와 자료들"}}},{"node":{"id":"fd9a891c-31f2-54a9-9dd1-f5d5d20e4de3","fields":{"slug":"/우아한테크코스_7기_BE_레벨1_회고/"},"frontmatter":{"title":"우아한테크코스 7기 BE 레벨1 회고"}}},{"node":{"id":"43821fcd-8636-5c6d-a114-2f00bf36be3f","fields":{"slug":"/spring-mvc-dispatcherservlet/"},"frontmatter":{"title":"Understanding DispatcherServlet in Spring MVC"}}}]},"previous":{"fields":{"slug":"/우아한테크코스_7기_BE_레벨1_회고/"},"frontmatter":{"title":"우아한테크코스 7기 BE 레벨1 회고"}},"next":null},"pageContext":{"id":"43821fcd-8636-5c6d-a114-2f00bf36be3f","series":null,"previousPostId":"fd9a891c-31f2-54a9-9dd1-f5d5d20e4de3","nextPostId":null}},"staticQueryHashes":[],"slicesMap":{}}